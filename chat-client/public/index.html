<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#6a74ff" />
    <meta
      name="description"
      content="Chat Application using MongoDB,Node,React,Express"
    />
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />

    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <title>Chat App</title>

    <script src="https://api.mapbox.com/mapbox-gl-js/v1.9.0/mapbox-gl.js"></script>
    <link
      href="https://api.mapbox.com/mapbox-gl-js/v1.9.0/mapbox-gl.css"
      rel="stylesheet"
    />
    <script src="https://js.pusher.com/beams/1.0/push-notifications-cdn.js"></script>
    <script>
      const beamsClient = new PusherPushNotifications.Client({
              instanceId: '8c176289-0a31-44fc-95d2-ee4935638c42',
            });
      
            const tokenProvider = new PusherPushNotifications.TokenProvider({
              url: '/pusher/beams-auth', 
              //queryParams: { someQueryParam: 'parameter-content' }, // URL query params your auth endpoint needs
              //headers: { "Access-Control-Allow-Origin": '*' }, // Headers your auth endpoint needs
            });      
            beamsClient
            .start()
            .then(() => beamsClient.setUserId("2802a8a9-faf5-43f2-ab15-a27e932af18d", tokenProvider))
            .catch(console.error);
          
            beamsClient.start()
              .then(() => beamsClient.addDeviceInterest('hello'))
              .then(() => console.log('Successfully registered and subscribed!'))
              .catch(console.error);
    </script>
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
  </body>
</html>
